<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" th:href="@{/styles/css/bootstrap.css}" type="text/css">
    <link rel="stylesheet" th:href="@{/styles/css/adminPage.css}" type="text/css">
    <link rel="stylesheet" th:href="@{/styles/css/userDropdownMenu.css}" type="text/css">
    <link rel="stylesheet" th:href="@{/styles/css/background.css}" type="text/css">
    <title>All users</title>
</head>
<body>
<div th:replace="fragments/header::header"></div>
<div class="container-lg top-admin-container">
    <div class="row">
        <div th:replace="fragments/adminDetailsMenu::adminDetailsMenu"></div>
        <div class="col-12 col-lg-9">
            <div class="container-fluid manage-result-con">
                <div class="container-fluid inner-manage-result-con">
                    <table class="table">
                        <thead>
                        <tr>
                            <th scope="col">id</th>
                            <th scope="col">Firstname</th>
                            <th scope="col">Lastname</th>
                            <th scope="col">Email</th>
                            <th scope="col">Roles</th>
                            <th scope="col">Ban user</th>
                            <th scope="col">Unban user</th>
                        </tr>
                        </thead>
                        <tbody th:each="user, i:${users}">
                        <tr>
                            <th scope="row" th:text="${user.id}"></th>
                            <td th:text="${user.firstName}"></td>
                            <td th:text="${user.lastName}"></td>
                            <td th:text="${user.email}"></td>
                            <td th:text="${user.roles}"></td>
                            <td>
                                <a th:if="${user.active}" th:href="@{/admin/all-users/{id}/{active}(id=${user.id}, active=false)}"
                                   class="btn btn-danger">
                                    <span class="iconify" data-icon="fa:ban"></span> Ban user
                                </a>
                                <a th:unless="${user.active}" href="#" class="btn btn-danger disabled">
                                    <span class="iconify" data-icon="fa:ban"></span> Ban user
                                </a>
                            </td>
                            <td>
                                <a th:if="${user.active}" href="#" class="btn btn-success disabled">
                                    <span class="iconify" data-icon="fontisto:checkbox-active"></span>Unban user
                                </a>
                                <a th:unless="${user.active}" th:href="@{/admin/all-users/{id}/{active}(id=${user.id}, active=true)}"
                                   class="btn btn-success">
                                    <span class="iconify" data-icon="fontisto:checkbox-active"></span>Unban user
                                </a>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<div th:replace="fragments/background::background"></div>
<script src="https://code.iconify.design/2/2.1.2/iconify.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
<script th:src="@{/styles/js/logout.js}" type="text/javascript"></script>
<script th:src="@{/styles/js/userPage.js}" type="text/javascript"></script>
<script th:src="@{/styles/js/bootstrap.js}" type="text/javascript"></script>
</body>
</html>